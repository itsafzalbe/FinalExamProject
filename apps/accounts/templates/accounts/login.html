{% extends 'accounts/base.html' %}

{% block title %}Login - Personal Finance Tracker{% endblock %}

{% block content %}
<div class="logo">
    <div class="logo-icon">ðŸ’°</div>
    <h1>Personal Finance Tracker</h1>
    <p>Welcome back!</p>
</div>

<h2>Log In</h2>
<p class="subtitle">Enter your credentials to access your account</p>

{% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}

<form method="post" id="loginForm">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="username">Username or Email</label>
        <input 
            type="text" 
            id="username" 
            name="username" 
            placeholder="bobur_dev or bobur@example.com"
            required
            autofocus
        >
    </div>

    <div class="form-group">
        <label for="password">Password</label>
        <input 
            type="password" 
            id="password" 
            name="password" 
            placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            required
        >
    </div>

    <div class="checkbox-group">
        <input type="checkbox" id="remember" name="remember">
        <label for="remember">Remember me</label>
    </div>

    <button type="submit" class="btn btn-primary" id="submitBtn">
        Log In
    </button>
</form>

<div class="divider">
    <span>or</span>
</div>

<p class="link-text">
    Don't have an account? <a href="{% url 'accounts:signup' %}">Sign up</a>
</p>

<p class="link-text">
    <a href="{% url 'accounts:forgot_password' %}">Forgot password?</a>
</p>

<script>
    const form = document.getElementById('loginForm');
    const submitBtn = document.getElementById('submitBtn');

    form.addEventListener('submit', function(e) {
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<span class="loading"></span>';
    });
</script>
{% endblock %}